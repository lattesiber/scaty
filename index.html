<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SCATY</title>
<style>
  body {
    margin:0; 
    font-family: Arial, sans-serif; 
    background: #f2f2f2;
    display: flex; 
    flex-direction: column; 
    min-height: 100vh;
  }

  header {
    background: rgba(106, 13, 173, 0.8);
    color:white; 
    padding: 15px; 
    display:flex; 
    justify-content: space-between; 
    align-items:center;
    backdrop-filter: blur(4px);
  }
  header h1 { margin:0; }

  #banner {
    background: rgba(255,255,255,0.9);
    margin:20px auto; 
    padding:40px 20px; 
    border-radius:16px; 
    text-align:center; 
    max-width:600px;
    box-shadow:0 0 10px rgba(0,0,0,0.2);
  }

  #projects {
    display:flex; 
    flex-wrap:wrap; 
    gap:15px; 
    padding:20px; 
    justify-content:center; 
    flex:1;
  }

  .project-card {
    background: rgba(255,255,255,0.9);
    border-radius:10px;
    padding:10px;
    width:200px;
    text-align:center;
    box-shadow:0 0 5px rgba(0,0,0,0.2);
    cursor:pointer;
    transition:0.3s;
    backdrop-filter: blur(4px);
  }
  .project-card:hover { transform: scale(1.05); }

  #modal {
    display:none;
    position: fixed; top:0; left:0; width:100%; height:100%;
    background: rgba(0,0,0,0.7); 
    justify-content:center; align-items:center;
  }
  #modalContent {
    background: rgba(255,255,255,0.95);
    padding:20px;
    border-radius:12px;
    max-width:600px;
    width:90%;
    position: relative;
    backdrop-filter: blur(4px);
  }
  #closeModal {
    position:absolute; top:10px; right:10px; 
    background:red; color:white; border:none; 
    padding:5px 10px; border-radius:6px; cursor:pointer;
  }
  #likeButton {
    background:#ff4081;
    margin-top:10px;
    padding:8px 12px;
    border-radius:6px;
    cursor:pointer;
    border:none;
    color:white;
    font-weight:bold;
  }
  footer {
    background: rgba(0,0,0,0.6);
    color:white; text-align:center; padding:10px; font-size:0.9rem;
    backdrop-filter: blur(4px);
  }

  #projectForm input, #projectForm textarea, #projectForm button {
    width:100%; margin:6px 0; padding:8px; border-radius:6px;
  }
  #projectForm button {
    background:#ff6600; color:white; border:none; cursor:pointer;
  }
</style>
</head>
<body>

<header>
  <h1>Scaty</h1>
  <button onclick="showForm()">Proje Ekle</button>
</header>

<div id="banner">
  <h1>SCATY</h1>
  <p>Scratch projelerini paylaşın!</p>
</div>

<div id="projectForm" style="display:none;">
  <h3>Yeni Proje</h3>
  <input type="text" id="username" placeholder="Kullanıcı Adı">
  <input type="text" id="title" placeholder="Proje Başlığı">
  <textarea id="embed" placeholder="Embed Kodu"></textarea>
  <button onclick="createProject()">Oluştur</button>
  <button onclick="hideForm()">İptal</button>
</div>

<div id="projects"></div>

<div id="modal">
  <div id="modalContent">
    <button id="closeModal" onclick="closeModal()">Kapat</button>
    <h2 id="modalTitle"></h2>
    <div id="modalEmbed"></div>
    <button id="likeButton"></button> <span id="likeCount"></span> beğeni
  </div>
</div>

<footer>
  Bu web site kodlanarak yapılmıştır • Domain ve Sunucu: Google Firebase • Sahibi: lattesiber
</footer>

<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyBeIlybkEY-iOMjiR2-Y7hjLXDqn3umZ9k",
    authDomain: "scaty-9bd07.firebaseapp.com",
    databaseURL: "https://scaty-9bd07-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "scaty-9bd07",
    storageBucket: "scaty-9bd07.firebasestorage.app",
    messagingSenderId: "649442785955",
    appId: "1:649442785955:web:cb7405c5c0bd88907e9d16",
    measurementId: "G-LLYXBZZX0X"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const projectsDiv = document.getElementById("projects");
  const modal = document.getElementById("modal");
  const modalTitle = document.getElementById("modalTitle");
  const modalEmbed = document.getElementById("modalEmbed");
  const likeButton = document.getElementById("likeButton");
  const likeCount = document.getElementById("likeCount");

  function showForm(){ document.getElementById("projectForm").style.display="block"; }
  function hideForm(){ document.getElementById("projectForm").style.display="none"; }

  function createProject(){
    const username = document.getElementById("username").value;
    const title = document.getElementById("title").value;
    const embed = document.getElementById("embed").value;
    if(!username||!title||!embed){ alert("Tüm alanları doldurun!"); return; }
    const newProjectRef = db.ref('projects').push();
    newProjectRef.set({username,title,embed,likes:0});
    hideForm();
    document.getElementById("username").value="";
    document.getElementById("title").value="";
    document.getElementById("embed").value="";
  }

  db.ref('projects').on('value', snapshot=>{
    projectsDiv.innerHTML="";
    const data = snapshot.val();
    if(data){
      Object.keys(data).forEach(key=>{
        const project = data[key];
        const div = document.createElement("div");
        div.className="project-card";
        div.innerHTML=`<h4>${project.title}</h4><p>@${project.username}</p>`;
        div.onclick=()=>openModal(project,key);
        projectsDiv.appendChild(div);
      });
    }
  });

  function openModal(project,key){
    modalTitle.innerText = project.title;
    modalEmbed.innerHTML = project.embed;
    likeCount.innerText = project.likes;
    likeButton.innerText="Beğen";
    let liked=false;
    likeButton.onclick=()=>{
      if(!liked){
        db.ref('projects/'+key).update({likes:project.likes+1});
        liked=true;
      } else {
        db.ref('projects/'+key).update({likes:project.likes});
        liked=false;
      }
    }
    modal.style.display="flex";
  }

  function closeModal(){
    modal.style.display="none";
    modalEmbed.innerHTML="";
  }
</script>

</body>
</html>




